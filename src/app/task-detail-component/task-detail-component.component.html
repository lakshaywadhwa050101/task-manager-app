<div class="panel panel-default task-details">
    <div class="panel-heading">
        <h3 class="panel-title">Task Details</h3>
    </div>
    <div class="panel-body">
        <form #taskForm="ngForm" (ngSubmit)="updateTask(taskForm)">
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" class="form-control" id="title" name="title" [(ngModel)]="task.title"
                    [readonly]="!editing" required minlength="5" #titleInput="ngModel" />
                <div *ngIf="titleInput.invalid && (titleInput.dirty || titleInput.touched)"
                    class="text-danger">Title is required and must be at least 5 characters long.</div>
            </div>
            <div class="form-group">
                <label for="description">Description:</label>
                <textarea class="form-control" id="description" name="description" [(ngModel)]="task.description"
                    [readonly]="!editing" required minlength="5" #descriptionInput="ngModel"></textarea>
                <div *ngIf="descriptionInput.invalid && (descriptionInput.dirty || descriptionInput.touched)"
                    class="text-danger">Description is required and must be at least 5 characters long.</div>
            </div>
            <div class="form-group">
                <label for="dueDate">Due Date:</label>
                <input type="date" class="form-control" id="dueDate" name="dueDate" [(ngModel)]="task.dueDate"
                    [readonly]="!editing" required />
            </div>
            <div class="form-group">
                <label for="priority">Priority:</label>
                <select class="form-control" id="priority" name="priority" [(ngModel)]="task.priority"
                    [disabled]="!editing" required>
                    <option value="1">High</option>
                    <option value="2">Medium</option>
                    <option value="3">Low</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary" [disabled]="!taskForm.valid">
                {{ editing ? 'Save' : 'Edit' }}
            </button>
            &nbsp;
            <button type="button" class="btn btn-secondary" [routerLink]="['/']">Back</button>
        </form>
    </div>
</div>
